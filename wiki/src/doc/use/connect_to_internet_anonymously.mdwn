[[!meta title="Connect to the Internet anonymously"]]

# <a name="macchanger"></a>Enabling MAC changer

**FIXME**: This section have not been adapted now. Macchanger is not easily
usable in Tails now (0.7.2)

If you paid attention when you started up Tails you may have noticed
an odd option in the language selection menu, namely the "Enable MAC
changer" entry. Some further explanation is probably required in order
to understand whether this is relevant for you or not.

First of all, you should know that all network cards, both wired and
wireless, have a unique identifier stored in them called their MAC
address. This address is actually used to address your computer on the
_local_ network, but it will _never_ get out on the Internet so people
can _not_ use it to trace you. However, other computers on the network
could log it which then would provide proof that your computer have
been connected to it. As such, this is not a concern if you are using
Tails with your home Internet connection as that can be linked to
you any way, but if you are connecting your computer to an untrusted,
public wireless network you might consider enabling it. It is never
useful enabling this option if you are using a public computer – only
use this if you are using a computer that can be linked to you on a
public network.

The reason why this is not always enabled is that is might cause
problems on some networks, so if you experience network problems while
it is enabled you might want try disabling it.

# <a name="nm"></a>Networking with NetworkManager

The name is quite self-explanatory – this is what you should use to
manage your network, which usually only consists of establishing an
Internet connection. In many cases this is done more or less
automatically. For example, if you are connected with wire,
NetworkManager will try to obtain network access automatically. If you
want to connect via wireless with a supported wireless adapter, you
are basically two clicks away.

Click on its icon on the left of the top panel to find the list of available
connections:

**FIXME**: screenshot

<center><a href="nm-menu.jpg"><img border="0" height="194"
src="nm-menu.jpg" width="240" /></a></center>

All wireless networks your computer is picking up are listed there, as
are all wired networks you have access to (usually one per wire), so
the second click is used for choosing any one of these. If the network
is protected you will be prompted for a password. There are other
options too, e.g. for dial-up connections and setting up VPNs although
these will require further set-up in the "Options -> Configure..."
section.

# <a name="vidalia"></a>Controlling Tor with Vidalia

Vidalia is an anonymity manager. Basically this means that it can be used
to control Tor, and is automatically launched on network connection.

As soon as the Tor client managed to establish a route to the Tor
network, Vidalia hides as an onion icon on the upper right corner of
the screen. Right-clicking this icon displays a configuration menu.


[[!img Vidalia_menu_en.jpg title="Vidalia menu" align="center"]]

Vidalia menu proposes essentialy two features:

* a *Network map* which displays a window showing a map of the Tor network, a list
  of Tor relays and a the list of currently used routes and their status.
* a *New identity* entry, which will make Tor use a different
  route for **future** connections, so that they will appear to come
  from a different address. But **be carefull** that some software might
  still continue to use the old route, depending on how it behaves with
  network connections. If you want to be sure a software is using a new
  route, you may want to close it, hit the *New identity* button, and
  then start the software again once the popup window disappears.

## The network map

Next we will have a look at the Tor network map:

[[!img Vidalia_Netmap_en.jpg title="Vidalia network map" align="center"]]

In here, all the Tor nodes in the Tor network are listed, as are all
your circuits and connections that go through the Tor network. This
requires a bit of technical knowledge of how Tor works in order to
understand and use, but it is not at all necessary. From the
connection listing it should at least be relatively easy for you to
see which exit node and country it appears your connections come from.
Right-clicking on any established circuits enable you to close it in
case this one is too slow.

## The *New identity* feature

**FIXME**: instruct how to really "change identity"

One very useful thing when working with Tor is the following option,
found in the Vidalia menu that you get by right-clicking its systray
icon:

<center><a href="tork-menu.jpg"><img border="0" height="98"
src="tork-menu.jpg" width="182" /></a></center>

Clicking on the "New Identity" option will tear down all you current
circuits and build new ones which means that the set of computers you
route your Internet traffic through will exchanged by some others.
This is very useful if you experience bad performance or even
time-outs accessing some Internet resource as you might have better
luck with the new circuits that are built. Also, if you ever want to
make sure that one thing you are doing will not be linkable to the
next thing you are going to do you should use this feature.

## Connect through a bridge

**FIXME**: This section have not been adapted now so please do not take it into
account.

Vidalia also makes it easy to use some of the Tor Network's more
advanced features. For example, you can  click on the *Settings* option,
then on the *Network* tab of the newly opened window, and select the *My
ISP blocks connections to the Tor network* checkbox to gain access to a
form where you can add Tor
[bridges](https://www.torproject.org/bridges.html) as entry points to
the Tor network. This is a way to circumvent censorship systems that
blocks normal access to the Tor network, intentially or not.

## Setting up a Tor relay

**FIXME**: discuss if we really want to document that

Lastly Vidalia will assist you setting up yourself as a Tor server,
helping out the Tor Network by relaying other people's traffic. You
also have the possibility to act as an exit node, which means that
other Tor users' traffic will exit in the clear from your computer.
You should really think through if you want to do the latter (act as
an exit node) as your ISP might start sending you complaints for other
people's file sharing traffic that happens to exit from you, and
potentially even worse things that might attract the attention of the
police. But simply relaying traffic is completely safe and will only
cost you some bandwidth (how much can be configured). However, at the
same time you will get more anonymity – it will be impossible for
eavesdroppers to distinguish the Tor traffic you are relaying from
your own traffic generated by web browsing etc. So if you have
bandwidth to spare, you might want to consider doing this.

In order to succeed with setting up a relay you might have to do
something about your firewall or router if you have one, like enable
port-forwarding for ports 9001 and 9030 – if you do not know what this
is or how to do it you should either look it up on with favourite search
engine or simply skip it. The next step would be to actually enable it
in Vidalia, which only requires a few clicks. First click the *settings*
option in the systray menu, then go to the *Sharing* tab of the new
window. There you can choose wether you want to setup a normal Tor relay
or a Tor [bridge](https://www.torproject.org/bridges.html). In any case,
you'll have to choose a nickname and a contact email in the newly
appeared form. Other tabs of this form helps you to choose if you want
to limit bandwith usage and the kind of trafic your relay will be used
to.

## Setup a hidden service

**FIXME**: add instructions to setup a hidden service with Vidalia.

# <a name="ff"></a>Browsing the web with IceWeasel

IceWeasel is an unbranded version of Mozilla Firefox webbrowser.
Given Mozilla Firefox's popularity many of you have
probably used it before. Its user interface is like any other modern
web browser, but there are a few things we want to mention, some that
are special with this particular installation. Do you remember what we
said [earlier](#how) about end-to-end encryption and its importance
while using Tor? Here is how it looks in Firefox when you are using a
secure, end-to-end encrypted connection:

## SSL/TLS Encryption

<center><a href="ff-ssl.jpg"><img border="0" height="311"
src="ff-ssl.jpg" width="404" /></a></center>

Notice the locks in the status bar and address bar (the latter which
also has turned yellowish) and that the address begins with
"http**s**://" – these are the indicators that a secure connection
using [SSL](http://en.wikipedia.org/wiki/Secure_Sockets_Layer) is
being used. You should try to only use services that use secure
connections when you are required to send sensitive information (like
passwords), otherwise its very easy for an eavesdropper to steal
whatever information you are sending. In this case what we are trying
to do is logging in on an email account at
[lavabit](http://lavabit.com/), using their [webmail
interface](https://lavabit.com/apps/webmail/src/login.php). Let us
proceed with logging in there so we can see how it is possible to send
end-to-end encrypted email with any webmail service out there with the
nifty [FireGPG](http://getfiregpg.org/) extension.

## Email encryption using FireGPG

**FIXME**: move this item to OpenGPG encryption paragraph?

<center><a href="ff-compose-1.jpg"><img border="0" height="311"
src="ff-compose-1.jpg" width="404" /></a></center>

Here we have written a silly email to Bob, mentioning stuff like
"public" and "private" keys. If you do not know what this means but
are interested in sending encrypted email, we suggest you take
yourself some time and read up on [public key
cryptography](http://en.wikipedia.org/wiki/Public_key_cryptography)
and [PGP](http://en.wikipedia.org/wiki/Pretty_Good_Privacy) just to
get the basic concepts.

What we will do next is first selecting all of the text in the message
(by using the mouse or simply pressing Ctrl + A) and then
right-clicking somewhere on the selected text. This will make the
usual Firefox context menu appear, which has a FireGPG entry that we
are interested in. Clicking it will expand the following menu:

<center><a href="ff-firegpg.jpg"><img border="0" height="137"
src="ff-firegpg.jpg" width="96" /></a></center>

In the menu we choose "Sign and encrypt" and we get a dialogue asking
us to select the public key to encrypt it with (Bob's) and the private
key to sign it with (your). After doing this the message is only
readable by Bob, and in addition Bob will be able to verify that the
message was in fact written by you. The signed and encrypted text will
look something like this:

<center><a href="ff-compose-2.jpg"><img border="0" height="311"
src="ff-compose-2.jpg" width="404" /></a></center>

At this stage we are ready to press send. When Bob receives this email
he can also use FireGPG to decrypt it in a very similar way – he will
just have to select the encrypted message and then use the FireGPG
menu to choose "Verify" or "Decrypt", or both. This can be done with
any so-called PGP block. There is one important limitation in FireGPG,
though. It cannot generate new keys, so you will have to use another
application for that. We recommend using the [GNU Privacy
Assistant](#gpa), found under the "Utilities" section of the K menu,
or [KPGP](#kpgp), found in the "Utilities -&gt; PIM" section.

## Torbutton

Returning to web browsing again we need to do something about the
problems with JavaScript, cookies and Adobe Flash that you might
remember from an earlier section. To deal with these problems we use
an extension called [Torbutton](https://www.torproject.org/torbutton/)
which is specifically designed for dealing with them (and other
things) for Firefox in combination with Tor. Torbutton can be either
switched on or off, indicated by "Tor enabled" and "Tor disabled" in
the Firefox status bar in the bottom right of its window. It should be
noted that these labels are a bit misleading for Tails users as Tor
cannot be switched off. So, in our case "Tor enabled" means that
Torbutton will disable a lot of stuff that could harm anonymity, and
"Tor disabled" simply means that you only get Tor and no additional
protection. As such, you should only disable Torbutton for sites that
you trust.

But why would you ever disable Torbutton? Well, while it is enabled
some sites might not work as you expect them to since certain features
are disabled or will behave differently. For example, the popular
video service [youtube](http://www.youtube.com/) will not work
properly as you can see here when we are trying to watch [this
clip](http://www.youtube.com/watch?v=XIDxDMwwlsw):

<center><a href="ff-youtube-1.jpg"><img border="0" height="311"
src="ff-youtube-1.jpg" width="404" /></a></center>

In order to get the video player to show up, we will have to disable
Torbutton by clicking its panel in the Firefox status bar. Normally
this would disable the use of Tor completely, but as we have mentioned
earlier, nothing escapes Tor while running Tails so your connection
will still be anonymized. However, you will have to trust that Google
(the current owner of youtube) is not doing anything fishy with all
their JavaScripts, the Flash-based video player etc. that could break
your anonymity.

After disabling Torbutton we can finally learn how onion routing (the
technique used by the Tor network) works from the guys in the TV
series Numb3rs!

<center><a href="ff-youtube-2.jpg"><img border="0" height="311"
src="ff-youtube-2.jpg" width="404" /></a></center>

If you are reading this document as a local file in Tails (which is
the case if the address begins with file://) you might have noticed
that all links that point outside of this document do not work. This
is also due to Torbutton since it is possible for others to steal any
file from you otherwise. In order to visit them you will need to
disable Torbutton and reload the page in a new tab. Indeed there are a
few more oddities related to toggling Torbutton on and off. If a web
site does not work as expected after toggling Torbutton you might have
to do any of the following to get it to work:

* Press the "Refresh" button in the navigation bar, or imply use the
  F5 keyboard short cut.
* Click the address field and press ENTER.
* Open a new tab and re-enter (or copy and paste) the address into the
  address field of the new tab and then press ENTER.

This is a security feature, also used for separating the different
states in Firefox, which otherwise could lead to trouble (arguably a
bit less so for Tails users).

As we hope you understand by now, there are reasons for all these
quirks, and while they might be annoying we hope you will learn to
cope with them. If not, feel free to disable Torbutton and never use
it again, but in that case you should expect much less anonymity and
security. There have been several demonstration of uncovering the true
identities of Firefox users using Tor, but to the authors' knowledge
Torbutton protects you against all of them.

# <a name="tb"></a>Emailing with Thunderbird

**FIXME**: This section have not been adapted now so please do not take it into
account. Tails uses Claws Mail instead of Thunderbird.

Not everyone is happy using webmail (like the authors) but want to use
a _real_ email client instead of some fragile web-based interface. For
that we have included Mozilla Thunderbird which looks like this:

<center><a href="tb-main.jpg"><img border="0" height="305"
src="tb-main.jpg" width="453" /></a></center>

Composing email looks like this:

<center><a href="tb-compose.jpg"><img border="0" height="257"
src="tb-compose.jpg" width="324" /></a></center>

Notice that there are buttons for PGP encryption in both of the above
windows (labelled with "Decrypt" and "OpenPGP"). These are provided by
the [Enigmail](http://http://enigmail.mozdev.org/) extension, and
pressing any of them for the first time will start a guide for setting
up PGP, possibly generating new keys if you do not have any. Their web
site is a great resource for learning how PGP encryption works so make
sure to check it out.

Setting up your email account requires a tiny amount of knowledge,
like what [POP](http://en.wikipedia.org/wiki/Post_Office_Protocol),
[IMAP](http://en.wikipedia.org/wiki/IMAP) and
[SMTP](http://en.wikipedia.org/wiki/SMTP) is, and indeed that your
email service supports these. [This step-by-step
guide](http://opensourcearticles.com/articles/thunderbird_15/english/part_01)
might be useful. However, this initial configuration requires writing
down the addresses of the servers involved, downloading mail, etc.
which will take some time. It is a bit annoying to have to redo
everytime you start Tails, which is necessary when running from a
CD, so you might want to consider using a persistent home directory by
[running from USB](#usb) if you plan to use Thunderbird often. One
more thing to consider is that Tor exit nodes usually block the
plaintext SMTP port (25) in order to prevent spam. This is easily
fixed by enabling end-to-end encryption with the email server through
SSL, which you should do any way for all of POP, IMAP and SMTP as your
password otherwise will be sent in plaintext.

# <a name="pidgin"></a>Chatting with Pidgin

For instant messaging Tails includes the Pidgin Instant Messenger.
It is a multi-protocol client, so you can run MSN, ICQ, IRC, AIM,
Jabber and many other protocols at the same time, even with several
instances of the same protocol. See the following picture for a Pidgin
user with three different protocols enabled at the same time:

<center><a href="pidgin-main.jpg"><img border="0" height="196"
src="pidgin-main.jpg" width="109" /></a></center>

## OTR encryption

Of course the issue of end-to-end encryption arises again. As we
mentioned earlier, we have [Off-the-record
messaging](http://www.cypherpunks.ca/otr) (commonly called OTR) for
instant messaging, and Pidgin and many other instant messengers have
support for that. There are several resources on how it works and how
to use it on their web site. Basically all you need to do is choose
"Start private conversation" in the OTR menu and a key will be
generated automatically if you do not have one already. After that OTR
will establish a private conversation if the other end's instant
messenger supports it. This is will look something like this:

<center><a href="pidgin-chat.jpg"><img border="0" height="218"
src="pidgin-chat.jpg" width="370" /></a></center>

OTR and other Pidgin plugins are enabled in the "Tools menu -&gt;
Plug-ins" section. Simply check the appropriate box for enabling any
plugin you want, and possibly you might also want to configure it by
pressing the "Configure Plug-in" button. When this is done for the OTR
plugin a window that can be used to manage your keys will open.
The use of OTR is recommended as many instant messaging protocols
normally sends your messages in plaintext. Force your friends to
migrate to clients with support for OTR!

**FIXME**: mention `/me` is **not** encrypted when used in a OTR
private conversation.


