When amnesia is booted from a CD, there is a lot of seeks from one file to
another during boot. This could be improved by ordering files on the CD in
the order used during boot.

Implementation
==============

An *initscript* is loaded during 'S' runlevel, just at the begining of the
boot process. If `profile` has been specified on the kernel command line, it
starts the `boot-profile` daemon which uses `inotify` to record file that are
accessed during boot.

Once enough of the boot sequence has been profiled, `boot-profile` must be
manually `kill`'ed. Then, `/lib/init/rw/boot-profile` will contain a file
that is suitable for the `-sort` argument of `mksquashfs`.

`lh_binary_rootfs` will automatically use a *sort list* provided as
`config/binary_rootfs/squashfs.sort`.

Tests
=====

(On a little bit old laptop, using a CD-RW disk.)

Boot time from pressing enter in BIOS boot device selection menu to TorK.

 * 03:54 without sort list
 * 03:22 with sort list

Left to be done
===============

 * See if result can further be improved by loading the beginning of the squashfs in RAM.
 * Implement an automated way to update the *sortlist*.

[[boot-profile]] is a *sortlist* generated using the aformentioned
`boot-profile` daemon.
