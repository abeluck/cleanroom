For various reasons, we want to ship Iceweasel 5.x or newer in Tails.

Our `feature/ff4` Git branch installs the current stable Iceweasel
(that is, at least 8.0) from the Debian Mozilla team's APT repository.

Next things to do
=================

Extensions
----------

### Monkeysphere

Monkeysphere 0.6 is not marked as compatible with FF5; it mostly
works with FF5, though, as we [reported to
upstream](https://labs.riseup.net/code/issues/3314) and to Debian
([[!debbug 638585]]). Let's fix this for real. [[!tag todo/code]]

### FireGPG

The FireGPG extension does not work in FF4+; work [[is being
done|todo/symmetric_OpenPGP_vs_recent_Iceweasel]] to get rid of it
anyway. Let's [[!taglink todo/wait]] for that part to be finished.

Configuration
-------------

### Toolbars

It would be great to:

* Hide the HTTPS Everywhere and FoxyProxy icons from the
  Navigation Toolbar.
* Hide the menu bar (and therefore hide the bookmarks icon from the
  Navigation Toolbar).

Such settings are normally saved in `localstore.rdf`, but putting such
a customized file in `/etc/iceweasel/pref/` or
`/etc/iceweasel/profile/` does not work,  => [[!taglink todo/research]]
how to seed this aspect of the configuration for new profiles.

This is probably not blocking at all, though.

A `localstore.rdf` file that would suit us would contain:

	<?xml version="1.0"?>
	<RDF:RDF xmlns:NC="http://home.netscape.com/NC-rdf#"
	         xmlns:RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
	  <RDF:Description RDF:about="chrome://browser/content/browser.xul#toolbar-menubar"
	                   autohide="true" />
	  <RDF:Description RDF:about="chrome://browser/content/browser.xul#nav-bar"
	                   currentset="unified-back-forward-button,torbutton-button,urlbar-container,reload-button,stop-button,urlbar-search-splitter,search-container,home-button,fullscreenflex,window-controls,torbutton-context-menu,cookiemonster-status" />
	  <RDF:Description RDF:about="chrome://browser/content/browser.xul">
	    <NC:persist RDF:resource="chrome://browser/content/browser.xul#nav-bar"/>
	    <NC:persist RDF:resource="chrome://browser/content/browser.xul#toolbar-menubar"/>
	  </RDF:Description>
	</RDF:RDF>
