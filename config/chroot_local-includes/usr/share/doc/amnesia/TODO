-*- mode: markdown; -*-

release
=======

announce
--------

* or-talk@freehaven.net
* Incognito developers (they are eager to switch to another base
  distribution, might merge our projects): see their
  [contact page](http://www.browseanonymouslyanywhere.com/incognito/index.php?option=com_contact&task=view&contact_id=1&Itemid=30)
* ...

Debian
------

- finish the packaging work

build system
============

- fix apt/preferences lh bug, which will re-allow building several
  images types in a row
- test Windows autorun (should display the included wiki)

hardware support
================

* build PowerPC images as well

install/upgrade
===============

specification
-------------

- allow adding 2nd encrypted data partition, or at least leave room
  for it
- USB: allow non-destructively upgrading the live system only, not
  touching the other partitions (use the iso + grub trick ? tar image
  + cp?)

from CD to USB
--------------

* use grml's
  [patches to live-initramfs](http://git.grml.org/?p=live-initramfs-grml.git;a=tree;f=debian/patches) 
  to support directly booting an ISO image
* Incognito's `root_overlay/usr/sbin/create-usb` seems quite nice, as
  it allows using an existing fat32 partition, but it does not
  proposes to partition the USB device first.
* Ubuntu's [usb-creator](FIXME)
   - supposed to replicate exactly the CD to USB
   - does not seem to recognize non-Ubuntu CDs (0.1.16 crashes on
     Lenny, 0.1.10 does not display them in the GUI even if it the
     console output proves that it takes good note of their presence )
   - how does it handle partitions?
   - [launchpad](https://launchpad.net/usb-creator)
* [UNetbootin](http://unetbootin.sourceforge.net/)
   - works on Windows and GNU/Linux
   - has a plugin architecture in case we need new or custom features
   - included in squeeze and sid, easily backported to Lenny
   - works like a charm to install an ISO image to USB, but the
     syslinux menu has the unetbootin logo instead of Debian's one
   - non-destructive install: does not format the chosen partition
   - **TRY ME**: from a running Live CD to USB? (seems to need to dd
     the CD to an ISO file first, which uses a lot of memory)
   - **TRY ME**: .img image to USB?
* [Ubuntu LiveUSB](http://klik.atekon.de/liveusb/)
   - (a bit too) simplistic
   - dedicated to "create a bootable Live USB medium from a running
     Ubuntu Live CD"
   - depending on sources, it partitions USB stick with one single
     800MB partition or one partition using the whole device; in any
     case, it unconditionally overwrites the device's content
   - able to upgrade without re-partitioning the device?
   - [launchpad](https://launchpad.net/liveusb)
* sidux's `install-sidux-usb-gui` needs an input ISO, but it still
  deserves being looked at more thoroughly; see the
  [manual](http://manual.sidux.com/en/hd-install-opts-en.htm#usb-hd).
* Fedora's `livecd-iso-to-disk`:
   - [manual](http://fedoraproject.org/wiki/FedoraLiveCD/USBHowTo)
* Fedora's [liveusb-creator](https://fedorahosted.org/liveusb-creator/):
   - works on Windows and GNU/Linux
   - "non-destructive install", which means?
   - sidux ships a modified version:
     which does not work on Lenny due to `dosfslabel` exiting with
     error code 1 even when successful
      - [.deb](http://sidux.office-vienna.at/sidux/debian/pool/main/l/liveusb-creator/),
      - [source](http://w3you.com/liveusb-creator/liveusb-creator.htm)
   - needs an ISO file, does not know how to read a real CD

from USB to CD
--------------

misc.
-----

- clone the source directory to /usr/local/src/, and allow easy
  remastering from the live system itself?
- steal Privatix's starter-cd trick for computers that do not boot on USB

documentation
=============

- copy and adapt the privatix/incognito documentation
- write documentation for install/upgrade

iceweasel
=========

- install the SSL certificates for some servers amongst those who signed the
  [NODR manifest](http://www.nadir.org/nadir/aktuell/2008/10/10/36282.html)
- easily build a live system with a custom JavaScript/cookies
  whitelist

switch to Debian-packaged extensions
------------------------------------

- CS Lite: is another nice cookie manager already packaged?

Pidgin
======

- base config?
- add irc.indymedia.org + SSL certificate check
- the OTR plugin FR translation in 3.2.0-2+lenny0 is incomplete and
  largely sucks. An updated, complete and proof-read one is in
  upstream CVS.
- install and enable `pidgin-libnotify`?

security
--------

- add an option to pidgin-otr to only allow OTR protocol v2 and later,
  to circumvent the protocol version negotiation attack described in
  [Finite-State Security Analysis of OTR Version 2](http://www.jbonneau.com/OTR_analysis.pdf)
  ... until the protocol + libotr themselves are fixed
- ask on otr-dev why the protocol hasn't been updated since the
  publication of the aforementioned paper, especially wrt.
  the protocol version attack

usecases
========

switch between use cases in syslinux menu
- Tor enforcement
- persistence

steal some Incognito tricks
===========================

- look at `fsscript.sh` (Tor auth cookie, Tork user config, etc.)
- smem
- macchanger

build $HOME in a programmatic way
=================================

iceweasel
---------

### NSS *.db files

* `cert8.db`: could be generated from scratch by adding our few custom
  SSL root certificates with `certutil`
* `secmod.db`: if this file is missing, a new one is generated without
  DSA, SHA256 and SHA512; weird.
* `key3.db`: if missing, the other `*.db` files can't be used

### sqlite

Most sqlite files could be built from scratch with SQL commands.

Bookmarks are the only pieces of data we want to preserve in
`places.sqlite`; according to
[MozillaZine](http://kb.mozillazine.org/Places.sqlite), a missing
`places.sqlite` is rebuilt using the latest dated JSON file from the
`bookmarkbackups` folder. We could then store our bookmarks data as
a backup, and rm+exclude `places.sqlite`.

Gnome
-----

### panel

- use `gconftool --load`
- see `/usr/share/gconf/defaults/05_panel-default-setup.entries`

$HOME
=====

- cleanup `.config/xfce*`
- is `.purple/prefs.xml` different from the one that would be
  automatically generated?

Desktop environment
===================

- install cups daemon to allow printing
- replace XFCE with LXDE?
- test XFCE images and update XFCE config

Misc.
=====

- fix TorK iconify on startup
- is `allow-user-other` necessary for sshfs? (`/etc/fuse.conf`)
- install seahorse-plugins (e.g. for Gedit) which is not in Lenny
- `AutomapHostsOnResolve 1` may trigger desynchronization between the
  cache and automatically mapped addresses, in case Tor is restarted
  => empty pdnsd's cache when Tor is restarted (Gnome panel launcher,
  `if-up.d` hook)
- try Vidalia, which is now in Debian
- desktop/iceweasel themes that mimic Windows/IE?
   - <http://ubuntu.online02.com/node/14>
- set time with NTP?
- virtualization support (kvm, qemu, VMWare, VirtualBox); see
  Incognito tricks, virtualbox hook bundled with debian live + patch
  on the ML
- VoIP: Incognito now includes Twinkle, that supports for SIP, ZRTP
  and SRTP
- customization:
  <http://www.offensive-security.com/blog/backtrack/customising-backtrack-live-cd-the-easy-way/>
- the shutdown splash screen hides the "you can halt" prompt

wiki
====

* use ikiwiki's mirror setting to add links to the online wiki from
  the static one included in the images
* move this TODO to the wiki
* use the po plugin for translation
