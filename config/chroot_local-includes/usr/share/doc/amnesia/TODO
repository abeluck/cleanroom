-*- mode: markdown; -*-

release
=======

- setup the public, mirror Git repository; see
  <http://bl.ogtastic.com/2008/8/2/mirroring-to-github>

Debian
------

- check Depends:
- finish the packaging work

build system
============

- fix apt/preferences lh bug, which will in turn fix the "kvkbd is
  upgraded from squeeze" bug and re-allow building several images
  types in a row
- include version taken from debian/changelog rather than based on the
  current time

hardware support
================

PowerPC
-------

- http://machine-cycle.blogspot.com/2009/05/running-debian-on-qemu-powerpc.html
- /usr/share/doc/qemu/README.Debian

install/upgrade
===============

- install on (optionally encrypted) USB from CD
  - Incognito: `root_overlay/usr/sbin/create-usb` seems quite nice,
    it allows using an existing fat32 partition, but it does not
    proposes to partition the USB device first
  - Privatix: ???
- install on CD from USB?
- clone the source directory to /usr/local/src/, and allow easy
  remastering from the live system itself?
- add 2nd encrypted data partition
- USB: allow upgrading only the live system, not touching the other
  partitions (use the iso + grub trick ? tar image + cp?)

documentation
=============

- copy and adapt the privatix documentation
- write documentation for install/upgrade

iceweasel
=========

- install the SSL certificates for the servers who signed the
  [NODR manifest](http://www.nadir.org/nadir/aktuell/2008/10/10/36282.html)
- easily build a live system with a custom JavaScript/cookies
  whitelist

switch to Debian-packaged extensions
------------------------------------

- CS Lite: is another nice cookie manager already packaged?

Pidgin
======

- base config?
- add irc.indymedia.org + SSL certificate check
- online help pages have been translated into French, waiting for
  upstream to install them
- install version of the OTR plugin with up-to-date FR translation;
  should be in 3.2.0-2+lenny0, currently waiting in
  lenny-proposed-updates:
  <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=516763>
  ... but this translation is incomplete and largely sucks.
  An updated, complete and proof-read one has been proposed upstream.

security
--------

- add an option to pidgin-otr to only allow OTR protocol v2 and later,
  to circumvent the protocol version negotiation attack described in
  [Finite-State Security Analysis of OTR Version 2](http://www.jbonneau.com/OTR_analysis.pdf)
  ... until the protocol + libotr themselves are fixed
- ask on otr-dev why the protocol hasn't been updated since the
  publication of the aforementioned paper, especially wrt.
  the protocol version attack

usecases
========

switch between use cases in syslinux menu
- Tor enforcement
- persistence

steal some Incognito tricks
===========================

- look at `fsscript.sh` (Tor auth cookie, Tork user config, etc.)
- smem
- macchanger

build $HOME in a programmatic way
=================================

iceweasel
---------

### NSS *.db files

* `cert8.db`: could be generated from scratch by adding our few custom
  SSL root certificates with `certutil`
* `secmod.db`: if this file is missing, a new one is generated without
  DSA, SHA256 and SHA512; weird.
* `key3.db`: if missing, the other `*.db` files can't be used

### sqlite

Most sqlite files could be built from scratch with SQL commands.

Bookmarks are the only pieces of data we want to preserve in
`places.sqlite`; according to
[MozillaZine](http://kb.mozillazine.org/Places.sqlite), a missing
`places.sqlite` is rebuilt using the latest dated JSON file from the
`bookmarkbackups` folder. We could then store our bookmarks data as
a backup, and rm+exclude `places.sqlite`.

Gnome
-----

### panel

- use `gconftool --load`
- see `/usr/share/gconf/defaults/05_panel-default-setup.entries`

$HOME cleanup
=============

- cleanup `.config/xfce*`
- is `.purple/prefs.xml` different from the one that would be
  automatically generated?

Desktop environment
===================

- replace XFCE with LXDE?
- test XFCE images and update XFCE config

Misc.
=====

- fix TorK iconify on startup
- is `allow-user-other` necessary for sshfs? (`/etc/fuse.conf`)
- install seahorse-plugins (e.g. for Gedit) which is not in Lenny
- `AutomapHostsOnResolve 1` may trigger desynchronization between the
  cache and automatically mapped addresses, in case Tor is restarted
  => empty pdnsd's cache when Tor is restarted (Gnome panel launcher,
  `if-up.d` hook)
- try Vidalia, which is now in Debian
- desktop/iceweasel themes that mimic Windows/IE?
- set time with NTP?
- virtualization support (kvm, qemu, VMWare, VirtualBox); see
  Incognito tricks
- VoIP: Incognito now includes Twinkle, that supports for SIP, ZRTP
  and SRTP

wiki
====

* move this TODO to the wiki
